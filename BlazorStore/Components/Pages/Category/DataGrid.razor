@rendermode @(new InteractiveServerRenderMode(prerender: false))
@inject IUnitOfWork _uow
@inject IJSRuntime _ijsr

<div class="col-11">
    <h4 class="card-title text-primary">Categories</h4>
</div>
<div class="col-1">
    <a href="/category/create" class="btn btn-primary"><i class="bi bi-plus-circle"></i></a>
</div>
<div class="col-12">
    <QuickGrid @ref="quickGridRef" ItemsProvider="entityProvider" Class="table" Pagination="@pagination">
        <PropertyColumn Property="category => category.Name" />
        <TemplateColumn Context="category" Title="Actions">
            <NavLink href="@($"/category/edit/{category.Id}")" class="btn btn-primary"><i
                    class="bi bi-pencil-square"></i>
            </NavLink>
            @* When there is no interactivity and using ssr only use forms
            <form @formname="@($"delete-{category.Id}")" @onsubmit="async () => await Delete(category.Id)"
            method="POST">
            <AntiforgeryToken />
            <button type="submit" class="btn btn-danger">Delete</button>
            </form> *@
            <a @onclick="async () =>  await Delete(category.Id)" class="btn btn-danger"><i
                    class="bi bi-trash-fill"></i></a>
        </TemplateColumn>
    </QuickGrid>
    <Paginator State="@pagination" />
</div>
<Spinner />
